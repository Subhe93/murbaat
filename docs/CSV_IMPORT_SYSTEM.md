# ๐ ูุธุงู ุงุณุชูุฑุงุฏ ุงูุดุฑูุงุช ูู ููู CSV

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ุดุงูู ูุงุณุชูุฑุงุฏ ุงูุดุฑูุงุช ูู ูููุงุช CSV ุจุดูู ุงุญุชุฑุงููุ ูุชุถูู:

- โ ุชุญููู ูุชุญููู ูููุงุช CSV
- โ ุชุญููู ุงูุตูุฑ ูู ุงูุฑูุงุจุท ูุญูุธูุง ูุญููุงู
- โ ูุนุงูุฌุฉ ุงูุจูุงูุงุช ูุฑุจุทูุง ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- โ ุชุชุจุน ุชูุฏู ุงูุนูููุฉ ูู ุงูููุช ุงููุนูู
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุฅูุดุงุก ุงูุชูุงุฑูุฑ

## ๐ ูููู ููู CSV ุงููุฏุนูู

```csv
Keyword,Nom,Note,Catรฉgorie,SubCategory,Adresse,Country,City,SubArea,Tรฉlรฉphone,SiteWeb,PlusCode,Images,Photos,HeroImage,StreetView,Reviews,ReviewCount,BusinessHours,PriceLevel,Amenities
```

### ุงูุญููู ุงููุทููุจุฉ:
- **Nom**: ุงุณู ุงูุดุฑูุฉ (ูุทููุจ)
- **Catรฉgorie**: ูุฆุฉ ุงูุดุฑูุฉ (ูุทููุจ)
- **Country**: ุงูุจูุฏ (ูุทููุจ ุฃู ุงุณุชุฎุฏุงู Adresse)
- **City**: ุงููุฏููุฉ (ูุทููุจ ุฃู ุงุณุชุฎุฏุงู Adresse)

### ุงูุญููู ุงูุงุฎุชูุงุฑูุฉ:
- **SubCategory**: ุงููุฆุฉ ุงููุฑุนูุฉ (ุงุฎุชูุงุฑู)
- **SubArea**: ุงูููุทูุฉ ุงููุฑุนูุฉ (ุงุฎุชูุงุฑู)
- **Note**: ุงูุชูููู (ูุซู "4.5 (10)")
- **Tรฉlรฉphone**: ุฑูู ุงููุงุชู
- **SiteWeb**: ุฑุงุจุท ุงููููุน ุงูุฅููุชุฑููู
- **Images**: ุฑูุงุจุท ุงูุตูุฑ (ููุตููุฉ ุจูุงุตูุฉ ููููุทุฉ)
- **Reviews**: ุงููุฑุงุฌุนุงุช (ุชูุณูู JSON)
- **Adresse**: ุงูุนููุงู (ุงุญุชูุงุทู ุฅุฐุง ูู ุชูู Country/City ูุชููุฑุฉ)

## ๐๏ธ ูููู ุงููุธุงู

### 1. ูุงุฌูุฉ ุงููุณุชุฎุฏู
- **ุงูููู**: `app/admin/companies/import/page.tsx`
- **ุงููุตู**: ูุงุฌูุฉ ุดุงููุฉ ูุฑูุน ุงููููุงุช ูุชุชุจุน ุงูุชูุฏู

### 2. API Routes
```
app/api/admin/companies/import/
โโโ upload/route.ts          # ุฑูุน ูุชุญููู ุงูููู
โโโ start/route.ts           # ุจุฏุก ุนูููุฉ ุงูุงุณุชูุฑุงุฏ
โโโ progress/[id]/route.ts   # ุชุชุจุน ุงูุชูุฏู
โโโ pause/[id]/route.ts      # ุฅููุงู ูุคูุช
โโโ resume/[id]/route.ts     # ุงุณุชููุงู ุงูุนูููุฉ
โโโ cancel/[id]/route.ts     # ุฅูุบุงุก ุงูุนูููุฉ
```

### 3. ุฎุฏูุงุช ุงููุนุงูุฌุฉ
```
lib/services/
โโโ company-import-service.ts      # ุงูุฎุฏูุฉ ุงูุฑุฆูุณูุฉ
โโโ image-download-service.ts      # ุชุญููู ุงูุตูุฑ
โโโ data-validation-service.ts     # ุงูุชุญูู ูู ุงูุจูุงูุงุช
โโโ category-mapping-service.ts    # ุฑุจุท ุงููุฆุงุช
โโโ location-mapping-service.ts    # ุฑุจุท ุงูููุงูุน
```

## ๐ง ุงููุชุทูุจุงุช ุงูุชูููุฉ

### ุงูููุชุจุงุช ุงููุทููุจุฉ:
```bash
npm install papaparse @types/papaparse uuid @types/uuid
```

### ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช:
- ูุชุทูุจ ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL ูุน Prisma
- ุฌููุน ุงูุฌุฏุงูู ููุฌูุฏุฉ ูู `prisma/schema.prisma`

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุงููุตูู ุฅูู ุงููุธุงู
- ุงูุชูู ุฅูู `/admin/companies/import`
- ูุชุทูุจ ุตูุงุญูุงุช ุฅุฏุงุฑูุฉ (ADMIN ุฃู SUPER_ADMIN)

### 2. ุฑูุน ุงูููู
1. ุงุฎุชุฑ ููู CSV ูู ุฌูุงุฒู
2. ุฃู ุงุณุญุจ ูุฃููุช ุงูููู ูู ุงูููุทูุฉ ุงููุฎุตุตุฉ
3. ุณูุชู ุชุญููู ุงูููู ูุนุฑุถ ูุนุงููุฉ

### 3. ุฅุนุฏุงุฏุงุช ุงูุงุณุชูุฑุงุฏ
- **ุชุญููู ุงูุตูุฑ**: ุชุญููู ุงูุตูุฑ ูู ุงูุฑูุงุจุท
- **ุฅูุดุงุก ุงููุฆุงุช ุงูููููุฏุฉ**: ุฅูุดุงุก ูุฆุงุช ุฌุฏูุฏุฉ ุชููุงุฆูุงู
- **ุฅูุดุงุก ุงููุฏู ุงูููููุฏุฉ**: ุฅูุดุงุก ูุฏู ุฌุฏูุฏุฉ ุชููุงุฆูุงู
- **ุชุฎุทู ุงูููุฑุฑุงุช**: ุชุฌูุจ ุงูุดุฑูุงุช ุงูููุฑุฑุฉ
- **ุงูุชุญูู ูู ุงูุจูุงูุงุช**: ุงูุชุญูู ูู ุงูุจุฑูุฏ ูุงููุงุชู

### 4. ุจุฏุก ุงูุงุณุชูุฑุงุฏ
- ุงููุฑ ุนูู "ุจุฏุก ุงูุงุณุชูุฑุงุฏ"
- ุชุชุจุน ุงูุชูุฏู ูู ุงูููุช ุงููุนูู
- ูููู ุฅููุงู/ุงุณุชููุงู/ุฅูุบุงุก ุงูุนูููุฉ

## ๐ ูุนุงูุฌุฉ ุงูุจูุงูุงุช

### 1. ุชุญููู CSV
- ุงุณุชุฎุฏุงู ููุชุจุฉ PapaParse ูุชุญููู ุงูููู
- ุฏุนู UTF-8 ูุงูุฃุญุฑู ุงูุนุฑุจูุฉ
- ุงูุชุญูู ูู ุงูุฃุนูุฏุฉ ุงููุทููุจุฉ

### 2. ูุนุงูุฌุฉ ุงููุฆุงุช
```typescript
// ูุทุงุจูุงุช ุงููุฆุงุช ุงููุฏุนููุฉ
'software company' โ 'ุงูุชูููููุฌูุง'
'restaurant' โ 'ุงูุฃุบุฐูุฉ ูุงููุทุงุนู'
'hospital' โ 'ุงูุฑุนุงูุฉ ุงูุตุญูุฉ'
// ... ูุงููุฒูุฏ
```

### 3. ูุนุงูุฌุฉ ุงูููุงูุน
```typescript
// ุงุณุชุฎุฑุงุฌ ุงููุฏููุฉ ูุงูุจูุฏ ูู ุฃุนูุฏุฉ ูููุตูุฉ ุฃู ุงูุนููุงู
Country: 'ุณูุฑูุง', City: 'ุฏูุดู', SubArea: 'ุงููุฒุฉ'
โ { country: 'ุณูุฑูุง', city: 'ุฏูุดู', subArea: 'ุงููุฒุฉ' }

// ุงุญุชูุงุทู: ุงุณุชุฎุฑุงุฌ ูู ุงูุนููุงู
'Damascus, Syria' โ { city: 'ุฏูุดู', country: 'ุณูุฑูุง' }
'Beirut, Lebanon' โ { city: 'ุจูุฑูุช', country: 'ูุจูุงู' }
```

### 3.1 ูุนุงูุฌุฉ ุงูููุงุทู ุงููุฑุนูุฉ
- **ุงูููุทูุฉ ุงููุฑุนูุฉ ุงุฎุชูุงุฑูุฉ** - ูู ุชูุดู ุงูุนูููุฉ ุฅุฐุง ูู ูุชู ุงูุนุซูุฑ ุนูููุง
- ูุชู ุฑุจุท ุงูููุทูุฉ ุงููุฑุนูุฉ ุจุงููุฏููุฉ ูุงูุจูุฏ ุงููุญุฏุฏูู
- ุฅุฐุง ูุงูุช ุงูุฅุนุฏุงุฏุงุช ุชุณูุญุ ุณูุชู ุฅูุดุงุก ููุงุทู ูุฑุนูุฉ ุฌุฏูุฏุฉ ุชููุงุฆูุงู
- **ุงููุทุงุจูุฉ**: ุฏูููุฉ โ ุชุฌุงูู ุงูุฃุญุฑู โ ุฌุฒุฆูุฉ
- **ูุซุงู**: 
  - `SubArea: "ุงููุฒุฉ"` ูู ูุฏููุฉ ุฏูุดู
  - `SubArea: "ุงูุดูุจุงุก"` ูู ูุฏููุฉ ุญูุจ

### 3.2 ูุนุงูุฌุฉ ุงููุฆุงุช ุงููุฑุนูุฉ
- **ุงููุฆุฉ ุงููุฑุนูุฉ ุงุฎุชูุงุฑูุฉ** - ูู ุชูุดู ุงูุนูููุฉ ุฅุฐุง ูู ูุชู ุงูุนุซูุฑ ุนูููุง
- ูุชู ุฑุจุท ุงููุฆุฉ ุงููุฑุนูุฉ ุจุงููุฆุฉ ุงูุฑุฆูุณูุฉ ุงููุญุฏุฏุฉ
- ุฅุฐุง ูุงูุช ุงูุฅุนุฏุงุฏุงุช ุชุณูุญุ ุณูุชู ุฅูุดุงุก ูุฆุงุช ูุฑุนูุฉ ุฌุฏูุฏุฉ ุชููุงุฆูุงู
- **ุงููุทุงุจูุฉ**: ุฏูููุฉ โ ุชุฌุงูู ุงูุฃุญุฑู โ ุฌุฒุฆูุฉ
- **ูุซุงู**: 
  - `Category: "ุงูุชูููููุฌูุง"`, `SubCategory: "ุชุทููุฑ ุงูุจุฑูุฌูุงุช"`
  - `Category: "ุงูุฃุบุฐูุฉ ูุงููุทุงุนู"`, `SubCategory: "ูุทุงุนู ุนุฑุจูุฉ"`

### 4. ูุนุงูุฌุฉ ุงูุตูุฑ
- ุชุญููู ุงูุตูุฑ ูู ุฑูุงุจุท Google Maps
- ุชุญุณูู ุงูุฌูุฏุฉ ูุงูุญุฌู
- ุญูุธ ูุญูู ูู `/public/uploads/companies/`
- ุงูุชุญูู ูู ุตุญุฉ ุงููููุงุช

## ๐ ุงูุชุญูู ูู ุงูุจูุงูุงุช

### 1. ุงูุชุญูู ุงูุฃุณุงุณู
- ุงุณู ุงูุดุฑูุฉ (2-200 ุญุฑู)
- ูุฌูุฏ ุงููุฆุฉ ูุงููููุน
- ุตุญุฉ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ

### 2. ุงูุชุญูู ุงููุชูุฏู
- ุตุญุฉ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุตุญุฉ ุฃุฑูุงู ุงููุงุชู (ุฎุงุตุฉ ุงูุณูุฑูุฉ)
- ุตุญุฉ ุฑูุงุจุท ุงูููุงูุน
- ุตุญุฉ ุฑูุงุจุท ุงูุตูุฑ

### 3. ุงูุชุทููุฑ ูุงูุชูุธูู
- ุฅุฒุงูุฉ ุงููุณุงูุงุช ุงูุฒุงุฆุฏุฉ
- ุชุทุจูุน ุงูุจูุงูุงุช
- ุชุญููู ุงูุชุฑููุฒ

## ๐ ุชุชุจุน ุงูุชูุฏู

### ุงูุฅุญุตุงุฆูุงุช ุงููุชุงุญุฉ:
- ุฅุฌูุงูู ุงูุตููู
- ุงูุตููู ุงููุนุงูุฌุฉ
- ุงููุฌุญุฉ/ุงููุงุดูุฉ/ุงููุชุฎุทุงุฉ
- ุงูุตูุฑ ุงููุญููุฉ/ุงููุงุดูุฉ

### ูุนูููุงุช ุงูุฌูุณุฉ:
- ูุนุฑู ูุฑูุฏ ููุฌูุณุฉ
- ููุช ุงูุจุฏุงูุฉ
- ุงูุญุงูุฉ ุงูุญุงููุฉ
- ุงูููุฑุณ ุงูุญุงูู

## โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### ุฃููุงุน ุงูุฃุฎุทุงุก:
1. **ุฃุฎุทุงุก ุงูููู**: ุชูุณูู ุบูุฑ ุตุญูุญุ ุฃุนูุฏุฉ ููููุฏุฉ
2. **ุฃุฎุทุงุก ุงูุจูุงูุงุช**: ุจูุงูุงุช ุบูุฑ ุตุงูุญุฉุ ููุฑุฑุฉ
3. **ุฃุฎุทุงุก ุงูุตูุฑ**: ูุดู ุงูุชุญูููุ ููุน ุบูุฑ ูุฏุนูู
4. **ุฃุฎุทุงุก ุงููุธุงู**: ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ุฐุงูุฑุฉ

### ุงูุชูุงุฑูุฑ:
- ุชูุฑูุฑ ููุตู ุจุงูุฃุฎุทุงุก
- ุฑูู ุงูุตู ูุงูุณุจุจ
- ุฅููุงููุฉ ุชุตุฏูุฑ ุงูุชูุฑูุฑ

## ๐ ุงูุฃูุงู

### ุงูุชุญูู ูู ุงูุตูุงุญูุงุช:
- ููุท ุงููุฏูุฑูู ูููููู ุงููุตูู
- ุงูุชุญูู ูู ุงูุฌูุณุฉ ูู ูู ุทูุจ

### ุญูุงูุฉ ุงููููุงุช:
- ูุจูู ูููุงุช CSV ููุท
- ูุญุต ูุญุชูู ุงูููู
- ุญุฏ ุฃูุตู ูุญุฌู ุงูููู

### ุญูุงูุฉ ุงูุตูุฑ:
- ุงูุชุญูู ูู ููุน ุงูููู
- ูุญุต signature ุงูููู
- ุญุฏ ุฃูุตู ูุญุฌู ุงูุตูุฑุฉ

## ๐๏ธ ุงูุฅุนุฏุงุฏุงุช ูุงูุชุฎุตูุต

### ุฅุนุฏุงุฏุงุช ุงูุชุฑุงุถูุฉ:
```typescript
{
  downloadImages: true,
  createMissingCategories: true,
  createMissingCities: true,
  skipDuplicates: true,
  validateEmails: true,
  validatePhones: true,
  batchSize: 10
}
```

### ูุงุจููุฉ ุงูุชุฎุตูุต:
- ุฅุถุงูุฉ ูุทุงุจูุงุช ูุฆุงุช ุฌุฏูุฏุฉ
- ุฅุถุงูุฉ ูุทุงุจูุงุช ูุฏู ุฌุฏูุฏุฉ
- ุชุฎุตูุต ููุงุนุฏ ุงูุชุญูู
- ุชุฎุตูุต ูุนุงูุฌุฉ ุงูุตูุฑ

## ๐ ุณุฌู ุงูุฃุญุฏุงุซ

### ุงูุฃุญุฏุงุซ ุงููุณุฌูุฉ:
- ุจุฏุงูุฉ ูููุงูุฉ ุงูุนูููุงุช
- ุงูุฃุฎุทุงุก ูุงูุชุญุฐูุฑุงุช
- ุฅุญุตุงุฆูุงุช ุงูุฃุฏุงุก
- ุชูุงุตูู ุงููุนุงูุฌุฉ

### ูุณุชููุงุช ุงูุณุฌู:
- INFO: ูุนูููุงุช ุนุงูุฉ
- WARN: ุชุญุฐูุฑุงุช
- ERROR: ุฃุฎุทุงุก
- DEBUG: ุชูุงุตูู ุชูููุฉ

## ๐ง ุงูุตูุงูุฉ ูุงููุฑุงูุจุฉ

### ุชูุธูู ุฏูุฑู:
- ุญุฐู ุงููููุงุช ุงููุคูุชุฉ
- ุชูุธูู ุฌูุณุงุช ุงูุงุณุชูุฑุงุฏ ุงููุฏููุฉ
- ุถุบุท ุงูุตูุฑ ุงููุฏููุฉ

### ูุฑุงูุจุฉ ุงูุฃุฏุงุก:
- ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ
- ุณุฑุนุฉ ุงููุนุงูุฌุฉ
- ูุนุฏู ุงููุฌุงุญ/ุงููุดู

## ๐จ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ:

1. **ูุดู ุฑูุน ุงูููู**
   - ุชุญูู ูู ุญุฌู ุงูููู
   - ุชุญูู ูู ุตูุบุฉ CSV
   - ุชุญูู ูู ุงูุชุฑููุฒ (UTF-8)

2. **ูุดู ุชุญููู ุงูุตูุฑ**
   - ุชุญูู ูู ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช
   - ุชุญูู ูู ุตุญุฉ ุงูุฑูุงุจุท
   - ุชุญูู ูู ูุณุงุญุฉ ุงูุชุฎุฒูู

3. **ุจุทุก ูู ุงููุนุงูุฌุฉ**
   - ููู ุญุฌู ุงูุฏูุนุฉ
   - ุชุญูู ูู ุฃุฏุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ุฑุงูุจ ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ

## ๐ ุฃูุซูุฉ ุนูููุฉ

### ูุซุงู ุนูู ููู CSV:
```csv
Keyword,Nom,Note,Catรฉgorie,SubCategory,Country,City,SubArea,Adresse,Tรฉlรฉphone,SiteWeb,Images
"ุดุฑูุฉ ุจุฑูุฌุฉ ุฏูุดู","ุดุฑูุฉ ุงูุชูููุฉ ุงููุชูุฏูุฉ","4.5 (12)","ุงูุชูููููุฌูุง","ุชุทููุฑ ุงูุจุฑูุฌูุงุช","ุณูุฑูุง","ุฏูุดู","ุงููุฒุฉ","ุดุงุฑุน ุงููุฒุฉ ุฃูุชูุณุชุฑุงุฏ","+963 11 1234567","https://example.com","https://image1.jpg;https://image2.jpg"
"ูุทุนู ุญูุจ","ูุทุนู ุงูุดุงู ุงูุฃุตูู","4.8 (25)","ุงูุฃุบุฐูุฉ ูุงููุทุงุนู","ูุทุงุนู ุนุฑุจูุฉ","ุณูุฑูุง","ุญูุจ","ุงูุดูุจุงุก","ุญู ุงูุดูุจุงุก - ุดุงุฑุน ุงูููู ููุตู","+963 21 2345678","https://example2.com","https://image3.jpg"
```

### ูุซุงู ุนูู ุงููุฑุงุฌุนุงุช:
```json
[
  {
    "author": "ุฃุญูุฏ ูุญูุฏ",
    "text": "ุฎุฏูุฉ ููุชุงุฒุฉ ูุณุฑูุนุฉ",
    "rating": 5,
    "date": "2024-01-15"
  }
]
```

## ๐ฎ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ููุฒุงุช ูุฎุทุทุฉ:
- ุฏุนู ุชูุณููุงุช ุฃุฎุฑู (Excel, JSON)
- ูุนุงูุฌุฉ ูุชูุงุฒูุฉ ููุตูุฑ
- ุชุญุณูู ุฎูุงุฑุฒููุงุช ุงููุทุงุจูุฉ
- ูุงุฌูุฉ API ููุงุณุชูุฑุงุฏ ุงูุจุฑูุฌู
- ุฏุนู ุงูุงุณุชูุฑุงุฏ ุงููุฌุฏูู

### ุชุญุณููุงุช ููุชุฑุญุฉ:
- ุงุณุชุฎุฏุงู Redis ููุชุฎุฒูู ุงููุคูุช
- ุงุณุชุฎุฏุงู Queue ูููุนุงูุฌุฉ
- ุฅุถุงูุฉ ุฅุดุนุงุฑุงุช ููุฑูุฉ
- ุชุญุณูู ุฃุฏุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

ููุญุตูู ุนูู ุงููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู:
- ุฑุงุฌุน ุณุฌูุงุช ุงููุธุงู ูู ูุญุฏุฉ ุงูุชุญูู
- ุชุญูู ูู ุชูุงุฑูุฑ ุงูุฃุฎุทุงุก
- ุฑุงุฌุน ุฏููู ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ุฃุนูุงู

---

*ุชู ุฅูุดุงุก ูุฐุง ุงูุชูุซูู ุจูุงุณุทุฉ ูุธุงู ูุฑุจุนุงุช ุงูุฐูู* ๐ค
